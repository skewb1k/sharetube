/* @refresh reload */
import style from "./Panel.module.css";
import { Playlist } from "./playlist";
import { Members } from "./members";
import { createSignal } from "solid-js";

export function Panel() {
  const [isMemberExpended, setIsMemberExpended] = createSignal(true);

  return (
    <div class={style.panel}>
      <header class={style.header}>
        <h1 class={style.header__title}>ShareTube room</h1>
        <button class={style.header__copy}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M4.71 12C4.71 10.632 5.961 9.52 7.5 9.52H11.1V8H7.5C6.30653 8 5.16193 8.42143 4.31802 9.17157C3.47411 9.92172 3 10.9391 3 12C3 13.0609 3.47411 14.0783 4.31802 14.8284C5.16193 15.5786 6.30653 16 7.5 16H11.1V14.48H7.5C5.961 14.48 4.71 13.368 4.71 12ZM8.4 12.8H15.6V11.2H8.4V12.8ZM16.5 8H12.9V9.52H16.5C18.039 9.52 19.29 10.632 19.29 12C19.29 13.368 18.039 14.48 16.5 14.48H12.9V16H16.5C17.6935 16 18.8381 15.5786 19.682 14.8284C20.5259 14.0783 21 13.0609 21 12C21 10.9391 20.5259 9.92172 19.682 9.17157C18.8381 8.42143 17.6935 8 16.5 8Z"
              fill="currentColor"
            />
          </svg>
        </button>
        <section
          class={style.header__members}
          onClick={() => setIsMemberExpended((prev) => !prev)}
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M13.4095 11.5554C13.9258 10.8198 14.2034 9.93792 14.2034 9.03337C14.2034 8.12882 13.9258 7.24695 13.4095 6.51138C13.8927 6.17507 14.4649 5.99672 15.05 6.00005C15.839 6.00005 16.5957 6.31963 17.1536 6.88849C17.7116 7.45734 18.025 8.22888 18.025 9.03337C18.025 9.83786 17.7116 10.6094 17.1536 11.1783C16.5957 11.7471 15.839 12.0667 15.05 12.0667C14.4649 12.07 13.8927 11.8917 13.4095 11.5554ZM6.975 9.03337C6.975 8.43343 7.14948 7.84697 7.47638 7.34814C7.80328 6.84932 8.26791 6.46053 8.81152 6.23094C9.35513 6.00136 9.9533 5.94129 10.5304 6.05833C11.1075 6.17537 11.6376 6.46427 12.0536 6.88849C12.4697 7.3127 12.753 7.85319 12.8678 8.4416C12.9826 9.03 12.9237 9.6399 12.6985 10.1942C12.4734 10.7484 12.0921 11.2222 11.6028 11.5555C11.1136 11.8888 10.5384 12.0667 9.95 12.0667C9.16098 12.0667 8.40428 11.7471 7.84636 11.1783C7.28844 10.6094 6.975 9.83786 6.975 9.03337ZM8.675 9.03337C8.675 9.29048 8.74978 9.54182 8.88988 9.75561C9.02998 9.96939 9.2291 10.136 9.46208 10.2344C9.69505 10.3328 9.95141 10.3585 10.1987 10.3084C10.4461 10.2582 10.6732 10.1344 10.8516 9.9526C11.0299 9.7708 11.1513 9.53916 11.2005 9.28698C11.2497 9.03481 11.2244 8.77342 11.1279 8.53588C11.0314 8.29834 10.868 8.09531 10.6584 7.95246C10.4487 7.80962 10.2022 7.73337 9.95 7.73337C9.61185 7.73337 9.28755 7.87034 9.04844 8.11413C8.80933 8.35793 8.675 8.68859 8.675 9.03337ZM15.9 17.2667V19H4V17.2667C4 17.2667 4 13.8 9.95 13.8C15.9 13.8 15.9 17.2667 15.9 17.2667ZM14.2 17.2667C14.081 16.5907 13.0695 15.5333 9.95 15.5333C6.8305 15.5333 5.7595 16.6687 5.7 17.2667M15.8575 13.8C16.3785 14.2132 16.8044 14.7376 17.1055 15.3365C17.4065 15.9354 17.5753 16.5942 17.6 17.2667V19H21V17.2667C21 17.2667 21 14.1207 15.849 13.8H15.8575Z"
              fill="currentColor"
            />
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            style={{ rotate: isMemberExpended() ? "180deg" : "" }}
          >
            <path
              d="M6.175 7.1499L10 10.9749L13.825 7.1499L15 8.33324L10 13.3332L5 8.33324L6.175 7.1499Z"
              fill="currentColor"
            />
          </svg>
        </section>
      </header>
      {isMemberExpended() && <Members />}
      <Playlist />
    </div>
  );
}
